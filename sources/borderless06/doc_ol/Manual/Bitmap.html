<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transistional//EN"><html><head><title>OpenLayer Offline Manual</title><style type="text/css" media="all">@import "CrystalStyle.css";</style><body bgcolor="FFFFFF" ><div align="center" style="pagestyle"><table width="60%"><tr><td><div class="parentLinks"><a href="index.html">OpenLayer</a> | <a href="Bitmap.html">Bitmap</a></div><br><div class="BigHeader">Bitmap</div><br><div class="">Stores a bitmap and draws it to the screen.<br><br><div class="Surrounded"><table><tr valign="top"><td align="right"><div class="FuncDef"><strong><a href="Bitmap.html"><font color="#0000CC">Bitmap</font></a>(</strong></div></td><td><div class="FuncDef"><strong><font color="#777733">const</font> <font color="#777733">char</font> *filename, <font color="#777733">int</font> flags = [NONE] );<br></strong></div></td></tr></table><br>Constructs the Bitmap by loading a bitmap file. The loaded bitmap may contain an alpha channel. Works like the <a href="Bitmap/Load.html"><font color="#0000CC">Load</font></a>-method.<br><br>The only possibile flag is:<br><i>MAKE_COLLISION_POLY</i> - Creates a collision polygon<br></div><br><div class="Surrounded"><table><tr valign="top"><td align="right"><div class="FuncDef"><strong><a href="Bitmap.html"><font color="#0000CC">Bitmap</font></a>(</strong></div></td><td><div class="FuncDef"><strong><font color="#777733">const</font> <font color="#777733">char</font> *rgbFilename, <font color="#777733">const</font> <font color="#777733">char</font> *alphaFilename,<br><font color="#777733">int</font> flags = [NONE] );<br></strong></div></td></tr></table><br>Constructs the Bitmap by loading two separate bitmap files, one bitmap for the color information and one 8-bit bitmap for the transparency information. Works like the <a href="Bitmap/Load.html"><font color="#0000CC">Load</font></a>-method.<br></div><br><div class="Surrounded"><table><tr valign="top"><td align="right"><div class="FuncDef"><strong><a href="Bitmap.html"><font color="#0000CC">Bitmap</font></a>(</strong></div></td><td><div class="FuncDef"><strong>BITMAP *allegroBmp, <font color="#777733">int</font> conversionMode, <font color="#777733">int</font> flags = [NONE] );<br></strong></div></td></tr></table><br>Constructs the Bitmap from an Allegro BITMAP. The conversion mode should be one of these:<br><br><i>HAS_ALPHA_CHANNEL</i> - Tells that the BITMAP has an alpha channel<br><i>CONVERT_MAGIC_PINK</i> - Converts all magic pink pixels to transparent ones<br><br>OpenLayer doesn't free the passed BITMAP even if the Bitmap is destroyed.<br></div><br><div class="Surrounded"><table><tr valign="top"><td align="right"><div class="FuncDef"><strong><a href="Bitmap.html"><font color="#0000CC">Bitmap</font></a>(</strong></div></td><td><div class="FuncDef"><strong><font color="#777733">int</font> width, <font color="#777733">int</font> height, <a href="Rgba.html"><font color="#0000CC">Rgba</font></a> fillColor );<br></strong></div></td></tr></table><br>Creates a new Bitmap filled with the specified color.<br></def></div></desc><br><div class="Surrounded"><table><tr valign="top"><td align="right"><div class="FuncDef"><strong><a href="Bitmap.html"><font color="#0000CC">Bitmap</font></a>(</strong></div></td><td><div class="FuncDef"><strong><font color="#777733">const</font> <a href="Bitmap.html"><font color="#0000CC">Bitmap</font></a> &amp;other, <font color="#777733">const</font> <a href="Shape/Rect.html"><font color="#0000CC">Rect</font></a> &amp;area );<br></strong></div></td></tr></table><br>Construct a sub-bitmap of an area of the given Bitmap.<br></def></div></desc><br><div class="Surrounded"><table><tr valign="top"><td align="right"><div class="FuncDef"><strong>template&lt; <font color="#777733">class</font> Functor &gt; <a href="Bitmap.html"><font color="#0000CC">Bitmap</font></a>(</strong></div></td><td><div class="FuncDef"><strong><font color="#777733">int</font> width, <font color="#777733">int</font> height, Functor functor );<br></strong></div></td></tr></table><br>Creates a new Bitmap and calls the 'Rgba operator()(int x, int y)' of the functor object for each pixel.<br></div><br>If you need transparent or translucent parts in the bitmap you need to have an alpha channel for the bitmap. An alpha channel stores the opacity values for each pixel in the bitmap. The higher the alpha value, the more visible the pixel is.<br><br>If the alpha value of a pixel is the highest value (1.0) the pixel will be totally solid. But if the alpha value of a pixel is zero it'll be totally transparent and the pixel won't be rendered at all. If the alpha value is between 0.0 and 1.0 the pixel will be partially visible, depending on how high the alpha value is.<br><br>There's a version of every Bitmap rendering routine that also takes a <a href="RenderMode.html"><font color="#0000CC">RenderMode</font></a> parameter which affects the way the Bitmap is rendered to the screen. Currently there are quite a few of RenderModes, like <a href="RenderMode/Tinted.html"><font color="#0000CC">Tinted</font></a>, <a href="RenderMode/Clipped.html"><font color="#0000CC">Clipped</font></a> and <a href="RenderMode/Flipped.html"><font color="#0000CC">Flipped</font></a>.<br><br>The pixel data will be automatically freed from the memory when the Bitmap object is destroyed. You can also manually free the bitmap data by calling the Destroy()-method.<br><br>Loading and destroying of global bitmaps and setting up the PNG image loading are automated now. If you have any dynamically allocated Bitmaps you can choose to let OpenLayer to free them when the program quits by calling the <a href="<a href="TextRenderer.html"><font color="#0000CC">TextRenderer</font></a>/UseAutoDelete.html"><font color="#0000CC">UseAutoDelete</font></a>() -method.<br><br>And a final note about the copy constructor: It won't make a copy of the image, but instead the Bitmap copy will refer to the same image in the memory.</div><br><div class="MediumHeader">Examples</div><br><div class="Code"><font color="#999922">//&nbsp;Remember&nbsp;that&nbsp;Bitmaps&nbsp;can't&nbsp;be&nbsp;rendered&nbsp;until&nbsp;Setup::SetupProgram&nbsp;and&nbsp;Setup::SetupScreen&nbsp;are&nbsp;called!&nbsp;//</font>&nbsp;<br><br><font color="#999922">//&nbsp;Construct&nbsp;a&nbsp;bitmap&nbsp;by&nbsp;loading&nbsp;a&nbsp;bitmap&nbsp;file&nbsp;//</font><br><a href="Bitmap.html"><font color="#0000CC">Bitmap</font></a>&nbsp;myBmp(&nbsp;<font color="#CC0000">"gfx/picture.png"</font>&nbsp;);<br><br><font color="#999922">//&nbsp;Draws&nbsp;the&nbsp;bitmap&nbsp;to&nbsp;the&nbsp;screen&nbsp;such&nbsp;that&nbsp;the&nbsp;top-left&nbsp;//</font><br><font color="#999922">//&nbsp;corner&nbsp;of&nbsp;the&nbsp;bitmap&nbsp;will&nbsp;be&nbsp;positioned&nbsp;at&nbsp;x&nbsp;=&nbsp;200,&nbsp;y&nbsp;=&nbsp;100&nbsp;//</font><br>myBmp.<a href="Bitmap/Blit.html"><font color="#0000CC">Blit</font></a>(&nbsp;<font color="#994400">200</font>,&nbsp;<font color="#994400">100</font>&nbsp;);<br><br><font color="#999922">//&nbsp;Construct&nbsp;a&nbsp;Bitmap&nbsp;using&nbsp;an&nbsp;Allegro&nbsp;BITMAP&nbsp;with&nbsp;an&nbsp;alpha&nbsp;channel&nbsp;//</font><br><font color="#999922">//&nbsp;and&nbsp;transparent&nbsp;magic&nbsp;pink&nbsp;pixels&nbsp;//</font><br>BITMAP&nbsp;*allegroBmp&nbsp;=&nbsp;create_bitmap(...);<br><a href="Bitmap.html"><font color="#0000CC">Bitmap</font></a>&nbsp;myBmp(&nbsp;allegroBmp,&nbsp;HAS_ALPHA_CHANNEL&nbsp;|&nbsp;CONVERT_MAGIC_PINK&nbsp;);<br><br><font color="#999922">//&nbsp;Construct&nbsp;the&nbsp;Bitmap&nbsp;using&nbsp;a&nbsp;separate&nbsp;bitmap&nbsp;for&nbsp;//</font><br><font color="#999922">//&nbsp;the&nbsp;color&nbsp;and&nbsp;the&nbsp;transparency&nbsp;information&nbsp;//</font><br><font color="#999922">//&nbsp;Note&nbsp;that&nbsp;pictureOpacity.bmp&nbsp;must&nbsp;be&nbsp;an&nbsp;8-bit&nbsp;bitmap!&nbsp;//</font><br><a href="Bitmap.html"><font color="#0000CC">Bitmap</font></a>&nbsp;myBmp(&nbsp;<font color="#CC0000">"gfx/picture.bmp"</font>,&nbsp;<font color="#CC0000">"gfx/pictureOpacity.bmp"</font>&nbsp;);</div><div class=""><br><br><div class="MediumHeader">Member functions</div><div class="Surrounded"><table size="100%" cellpadding="0" cellspacing="0"><tr><td halign="center" class="funclist"><a href="Bitmap/Load.html">Load</a></td><td width="65%" halign="center"><div class="smalltext">Loads the bitmap</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/Blit.html">Blit</a></td><td width="65%" halign="center"><div class="smalltext">Draws the Bitmap to the screen</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/BlitRotated.html">BlitRotated</a></td><td width="65%" halign="center"><div class="smalltext">Draws the Bitmap to the screen rotated along a point</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/BlitStretched.html">BlitStretched</a></td><td width="65%" halign="center"><div class="smalltext">Draws the Bitmap to the screen stretched to the specified size</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/BlitTransformed.html">BlitTransformed</a></td><td width="65%" halign="center"><div class="smalltext">Draws the Bitmap to the screen rotated and stretched</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/BlitDistorted.html">BlitDistorted</a></td><td width="65%" halign="center"><div class="smalltext">Draws the Bitmap to the screen with the given corner points</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/Width.html">Width</a></td><td width="65%" halign="center"><div class="smalltext">Returns the width of the Bitmap</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/Height.html">Height</a></td><td width="65%" halign="center"><div class="smalltext">Returns the height of the Bitmap</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/LoadListOfBitmaps.html">LoadListOfBitmaps</a></td><td width="65%" halign="center"><div class="smalltext">Loads a list of bitmaps from the disk</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/GetPixel.html">GetPixel</a></td><td width="65%" halign="center"><div class="smalltext">Returns the color value of a pixel</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/Destroy.html">Destroy</a></td><td width="65%" halign="center"><div class="smalltext">Destroys the Bitmap</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/IsValid.html">IsValid</a></td><td width="65%" halign="center"><div class="smalltext">Checks if the Bitmap was loaded correctly</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/Save.html">Save</a></td><td width="65%" halign="center"><div class="smalltext">Saves the Bitmap to disk with the specified filename</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/CopyFromScreen.html">CopyFromScreen</a></td><td width="65%" halign="center"><div class="smalltext">Copies a region of the game window to the Bitmap</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/GetMemoryBitmap.html">GetMemoryBitmap</a></td><td width="65%" halign="center"><div class="smalltext">Returns a memory bitmap copy of (part of) the Bitmap</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/GetCollisionPoly.html">GetCollisionPoly</a></td><td width="65%" halign="center"><div class="smalltext">Returns the generated collision polygon for the Bitmap</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/SetDefaultPivot.html">SetDefaultPivot</a></td><td width="65%" halign="center"><div class="smalltext">Sets the default pivot point</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/GetDefaultPivot.html">GetDefaultPivot</a></td><td width="65%" halign="center"><div class="smalltext">Returns the default pivot point</div></td></tr><tr><td colspan="2"><br><div class="SmallHeader"><font color="#775500">Advanced functions</font></div><br></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/GetPixelPacked.html">GetPixelPacked</a></td><td width="65%" halign="center"><div class="smalltext">
Returns the color value of the specified pixel in a packed integer</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/SendToGPU.html">SendToGPU</a></td><td width="65%" halign="center"><div class="smalltext">Sends the Bitmap to the graphics card</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/UnloadFromGPU.html">UnloadFromGPU</a></td><td width="65%" halign="center"><div class="smalltext">Unloads the Bitmap from the graphics card</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/Select.html">Select</a></td><td width="65%" halign="center"><div class="smalltext">
Selects the Bitmap as the active texture of OpenGL</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/UseAutoDelete.html">UseAutoDelete</a></td><td width="65%" halign="center"><div class="smalltext">
Chooses the Bitmap to be automatically deleted when the program quits</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/HasAlphaChannel.html">HasAlphaChannel</a></td><td width="65%" halign="center"><div class="smalltext">Checks if the Bitmap has an alpha channel</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/StartFastBlitting.html">StartFastBlitting</a></td><td width="65%" halign="center"><div class="smalltext">This function should be called right before using FastBlit</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/FastBlit.html">FastBlit</a></td><td width="65%" halign="center"><div class="smalltext">A faster version of Blit</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/FinishFastBlitting.html">FinishFastBlitting</a></td><td width="65%" halign="center"><div class="smalltext">This function should be called after calling FastBlit</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/UnloadToMemory.html">UnloadToMemory</a></td><td width="65%" halign="center"><div class="smalltext">Unloads the Bitmap from the graphics card keeping the image data saved in the Bitmap</div></td></tr><tr><td halign="center" class="funclist"><a href="Bitmap/TexturedQuad.html">TexturedQuad</a></td><td width="65%" halign="center"><div class="smalltext">Outputs a raw textured quad to the video card</div></td></tr></table></div><br><div class=""><a href="index.html">Back to the main page of the manual</a></div><br>Questions about Bitmap? Click <a href="http://crystalstorm.ath.cx/index.php?lan=en&page=CreateFeedback&subject=Bitmap">here.</a></div></td></tr></table></body></html>